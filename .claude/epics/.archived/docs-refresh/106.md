---
name: "CHANGELOG.md: Complete [Unreleased] with all 10 epics"
status: closed
created: 2026-02-13T00:57:49Z
updated: 2026-02-13T01:03:53Z
github: https://github.com/Polloinfilzato/dm20-protocol/issues/108
depends_on: []
parallel: true
conflicts_with: []
---

# Task: CHANGELOG.md — Complete [Unreleased] Section

## Description

The current [Unreleased] section in CHANGELOG.md only covers Character Model v2 and DM Persona features. It's missing ~60% of the actual changes. Update it to cover all 10 completed epics following Keep a Changelog format.

## Acceptance Criteria

- [ ] [Unreleased] section covers ALL features from all 10 epics
- [ ] Follows Keep a Changelog format (Added, Changed, Fixed, Removed)
- [ ] Each entry has a brief, clear description
- [ ] Tool names match actual MCP tool names in source code
- [ ] No duplicate entries (some items already listed need to stay, not be re-added)

## Technical Details

### Features to ADD to [Unreleased] (currently missing)

**Added:**
- **Rulebook System** — `RulebookManager` with multi-source support, `SRDSource` adapter (SRD 2014/2024 via API), `CustomSource` for local JSON files. 8 MCP tools: `load_rulebook`, `list_rulebooks`, `unload_rulebook`, `search_rules`, `get_class_info`, `get_race_info`, `get_spell_info`, `get_monster_info`, `validate_character_rules`
- **PDF Rulebook Library** — Import PDFs/Markdown, automatic TOC extraction (PyMuPDF), content extraction (classes, races, spells, monsters, feats, items), campaign-scoped enable/disable, semantic search with RAG. 9 MCP tools: `open_library_folder`, `scan_library`, `list_library`, `get_library_toc`, `search_library`, `extract_content`, `enable_library_source`, `disable_library_source`, `list_enabled_library`, `ask_books`
- **Multi-Source Rulebook** — `Open5eSource` adapter (REST API, ~700 spells, ~1000 monsters), `FiveToolsSource` adapter (GitHub JSON files, markup conversion). Both with local caching, retry logic, pagination handling. Extended `load_rulebook` tool to accept `"open5e"` and `"5etools"` sources
- **Bilingual Terminology Resolver** — Italian ↔ English D&D term resolution with O(1) lookup. ~500 curated term pairs (skills, abilities, conditions, combat, spells). `TermResolver` with YAML loading, accent-insensitive matching. `StyleTracker` for per-category language preference tracking. Auto-indexing from loaded rulebooks
- **Dual-Agent Response Architecture** — Parallel execution of Narrator (fast, narrative) + Arbiter (thorough, mechanical) agents via `asyncio.gather`. `LLMClient` protocol with `AnthropicLLMClient` and `MockLLMClient` implementations. Graceful degradation when one agent fails. Configurable per-agent models and temperatures
- **DM Gameplay Improvements** — Dice roll context labels (`label` parameter on `roll_dice`), `/dm:help` command for command overview, fixed `/dm:action` and `/dm:combat` slash command invocation

**Changed:**
- **Storage System** — Refactored to split storage backend (campaign data separated from global config)

### Verify existing entries

The current [Unreleased] already has Character Model v2 and DM Persona entries — keep those, don't duplicate.

### Source for accuracy

- Read `src/dm20_protocol/mcp/main.py` for exact tool names
- Read archived epic files for feature descriptions
- Read source files for accurate parameter names

## Dependencies

- [ ] No task dependencies

## Effort Estimate

- Size: S
- Hours: 2
- Parallel: true
- Conflicts: none
