---
name: Add migration utility script
status: open
created: 2026-02-01T23:51:23Z
updated: 2026-02-01T23:51:23Z
github: https://github.com/Polloinfilzato/gamemaster-mcp/issues/8
updated: 2026-02-02T00:06:07Z
depends_on: [5]
parallel: true
conflicts_with: []
---

# Task: Add migration utility script

## Description

Create an optional migration utility that allows users to convert existing monolithic campaign files to the new split directory structure.

## Acceptance Criteria

- [ ] Create `scripts/migrate_campaign.py` utility
- [ ] Accept campaign name as argument
- [ ] Read monolithic JSON file
- [ ] Create split directory structure
- [ ] Write separate files for each section
- [ ] Optionally backup original file
- [ ] Provide dry-run mode to preview changes
- [ ] Document usage in README

## Technical Details

**Script usage:**
```bash
python scripts/migrate_campaign.py "Campaign Name" --backup --dry-run
```

**Options:**
- `--backup`: Keep original file as `.json.bak`
- `--dry-run`: Show what would be done without making changes
- `--force`: Overwrite existing split directory

**Migration steps:**
1. Load monolithic `campaigns/{name}.json`
2. Create `campaigns/{name}/` directory
3. Extract and write each section to separate file
4. Migrate sessions to individual files
5. Optionally remove/backup original file

**Files affected:**
- `scripts/migrate_campaign.py` (new)
- `README.md` (documentation)

## Dependencies

- [ ] Task 5: Migrate storage.py to use split storage

## Effort Estimate

- Size: S
- Hours: 3-4
- Parallel: true (once Task 5 is done)

## Definition of Done

- [ ] Script implemented
- [ ] Backup functionality working
- [ ] Dry-run mode working
- [ ] Usage documented
